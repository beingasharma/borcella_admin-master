(()=>{var e={};e.id=456,e.ids=[456],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},57310:e=>{"use strict";e.exports=require("url")},71267:e=>{"use strict";e.exports=require("worker_threads")},56604:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(50482),o=r(69108),i=r(62563),a=r.n(i),n=r(68300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let c=["",{children:["(dashboard)",{children:["collections",{children:["[collectionId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,19670)),"C:\\Users\\ASharma\\Documents\\New folder\\borcella_admin-master\\app\\(dashboard)\\collections\\[collectionId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,19302)),"C:\\Users\\ASharma\\Documents\\New folder\\borcella_admin-master\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\ASharma\\Documents\\New folder\\borcella_admin-master\\app\\(dashboard)\\collections\\[collectionId]\\page.tsx"],u="/(dashboard)/collections/[collectionId]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(dashboard)/collections/[collectionId]/page",pathname:"/collections/[collectionId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},75055:(e,t,r)=>{Promise.resolve().then(r.bind(r,65335))},65335:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(95344),o=r(3729),i=r(10558),a=r(57366);let n=({params:e})=>{let[t,r]=(0,o.useState)(!0),[n,l]=(0,o.useState)(null),c=async()=>{try{let t=await fetch(`/api/collections/${e.collectionId}`,{method:"GET"}),s=await t.json();l(s),r(!1)}catch(e){console.log("[collectionId_GET]",e)}};return(0,o.useEffect)(()=>{c()},[]),t?s.jsx(i.Z,{}):s.jsx(a.default,{initialData:n})}},57366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(95344),o=r(85453),i=r(60708),a=r(29709),n=r(8428),l=r(66868),c=r(16212),d=r(78767),u=r(92549),m=r(93601),p=r(82402),x=r(3729),h=r(44669),f=r(70011);let g=a.z.object({title:a.z.string().min(2).max(20),description:a.z.string().min(2).max(500).trim(),image:a.z.string()}),b=({initialData:e})=>{let t=(0,n.useRouter)(),[r,a]=(0,x.useState)(!1),b=(0,i.cI)({resolver:(0,o.F)(g),defaultValues:e||{title:"",description:"",image:""}}),j=e=>{"Enter"===e.key&&e.preventDefault()},v=async r=>{try{a(!0);let s=e?`/api/collections/${e._id}`:"/api/collections";(await fetch(s,{method:"POST",body:JSON.stringify(r)})).ok&&(a(!1),h.ZP.success(`Collection ${e?"updated":"created"}`),window.location.href="/collections",t.push("/collections"))}catch(e){console.log("[collections_POST]",e),h.ZP.error("Something went wrong! Please try again.")}};return(0,s.jsxs)("div",{className:"p-10",children:[e?(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-heading2-bold",children:"Edit Collection"}),s.jsx(f.Z,{id:e._id,item:"collection"})]}):s.jsx("p",{className:"text-heading2-bold",children:"Create Collection"}),s.jsx(l.Separator,{className:"bg-grey-1 mt-4 mb-7"}),s.jsx(d.l0,{...b,children:(0,s.jsxs)("form",{onSubmit:b.handleSubmit(v),className:"space-y-8",children:[s.jsx(d.Wi,{control:b.control,name:"title",render:({field:e})=>(0,s.jsxs)(d.xJ,{children:[s.jsx(d.lX,{children:"Title"}),s.jsx(d.NI,{children:s.jsx(u.I,{placeholder:"Title",...e,onKeyDown:j})}),s.jsx(d.zG,{})]})}),s.jsx(d.Wi,{control:b.control,name:"description",render:({field:e})=>(0,s.jsxs)(d.xJ,{children:[s.jsx(d.lX,{children:"Description"}),s.jsx(d.NI,{children:s.jsx(m.g,{placeholder:"Description",...e,rows:5,onKeyDown:j})}),s.jsx(d.zG,{})]})}),s.jsx(d.Wi,{control:b.control,name:"image",render:({field:e})=>(0,s.jsxs)(d.xJ,{children:[s.jsx(d.lX,{children:"Image"}),s.jsx(d.NI,{children:s.jsx(p.Z,{value:e.value?[e.value]:[],onChange:t=>e.onChange(t),onRemove:()=>e.onChange("")})}),s.jsx(d.zG,{})]})}),(0,s.jsxs)("div",{className:"flex gap-10",children:[s.jsx(c.z,{type:"submit",className:"bg-blue-1 text-white",children:"Submit"}),s.jsx(c.z,{type:"button",onClick:()=>t.push("/collections"),className:"bg-blue-1 text-white",children:"Discard"})]})]})})]})}},82402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var s=r(95344),o=r(95793),i=r(74507),a=r(51838),n=r(16212),l=r(89410);let c=({onChange:e,onRemove:t,value:r})=>(0,s.jsxs)("div",{children:[s.jsx("div",{className:"mb-4 flex flex-wrap items-center gap-4",children:r.map(e=>(0,s.jsxs)("div",{className:"relative w-[200px] h-[200px]",children:[s.jsx("div",{className:"absolute top-0 right-0 z-10",children:s.jsx(n.z,{type:"button",onClick:()=>t(e),size:"sm",className:"bg-red-1 text-white",children:s.jsx(i.Z,{className:"h-4 w-4"})})}),s.jsx(l.default,{src:e,alt:"collection",className:"object-cover rounded-lg",fill:!0})]},e))}),s.jsx(o.ZF,{uploadPreset:"ne1harij",onUpload:t=>{e(t.info.secure_url)},children:({open:e})=>(0,s.jsxs)(n.z,{type:"button",onClick:()=>e(),className:"bg-grey-1 text-white",children:[s.jsx(a.Z,{className:"h-4 w-4 mr-2"}),"Upload Image"]})})]})},10558:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(95344);let o=()=>s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full border-t-4 border-blue-500 border-solid h-12 w-12"})})},78767:(e,t,r)=>{"use strict";r.d(t,{l0:()=>u,NI:()=>b,Wi:()=>p,xJ:()=>f,lX:()=>g,zG:()=>j});var s=r(95344),o=r(3729),i=r(32751),a=r(60708),n=r(91626),l=r(14217);let c=(0,r(88720).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=o.forwardRef(({className:e,...t},r)=>s.jsx(l.f,{ref:r,className:(0,n.cn)(c(),e),...t}));d.displayName=l.f.displayName;let u=a.RV,m=o.createContext({}),p=({...e})=>s.jsx(m.Provider,{value:{name:e.name},children:s.jsx(a.Qr,{...e})}),x=()=>{let e=o.useContext(m),t=o.useContext(h),{getFieldState:r,formState:s}=(0,a.Gc)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...i}},h=o.createContext({}),f=o.forwardRef(({className:e,...t},r)=>{let i=o.useId();return s.jsx(h.Provider,{value:{id:i},children:s.jsx("div",{ref:r,className:(0,n.cn)("space-y-2",e),...t})})});f.displayName="FormItem";let g=o.forwardRef(({className:e,...t},r)=>{let{error:o,formItemId:i}=x();return s.jsx(d,{ref:r,className:(0,n.cn)(o&&"text-destructive",e),htmlFor:i,...t})});g.displayName="FormLabel";let b=o.forwardRef(({...e},t)=>{let{error:r,formItemId:o,formDescriptionId:a,formMessageId:n}=x();return s.jsx(i.g7,{ref:t,id:o,"aria-describedby":r?`${a} ${n}`:`${a}`,"aria-invalid":!!r,...e})});b.displayName="FormControl",o.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:o}=x();return s.jsx("p",{ref:r,id:o,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let j=o.forwardRef(({className:e,children:t,...r},o)=>{let{error:i,formMessageId:a}=x(),l=i?String(i?.message):t;return l?s.jsx("p",{ref:o,id:a,className:(0,n.cn)("text-sm font-medium text-destructive",e),...r,children:l}):null});j.displayName="FormMessage"},93601:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var s=r(95344),o=r(3729),i=r(91626);let a=o.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));a.displayName="Textarea"},19670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>a});let s=(0,r(86843).createProxy)(String.raw`C:\Users\ASharma\Documents\New folder\borcella_admin-master\app\(dashboard)\collections\[collectionId]\page.tsx`),{__esModule:o,$$typeof:i}=s,a=s.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,70,183,356,770,101,892,61,82],()=>r(56604));module.exports=s})();