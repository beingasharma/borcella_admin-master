"use strict";(()=>{var e={};e.id=567,e.ids=[567],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},62055:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>q,patchFetch:()=>v,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>S});var a={};r.r(a),r.d(a,{GET:()=>l,dynamic:()=>p});var o=r(95419),n=r(69108),s=r(99678),i=r(4385),c=r(18237),u=r(78070);let l=async(e,{params:t})=>{try{await (0,c.P)();let e=await i.Z.find({$or:[{title:{$regex:t.query,$options:"i"}},{category:{$regex:t.query,$options:"i"}},{tags:{$in:[RegExp(t.query,"i")]}}]});return u.Z.json(e,{status:200})}catch(e){return console.log("[search_GET]",e),new u.Z("Internal Server Error",{status:500})}},p="force-dynamic",d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/search/[query]/route",pathname:"/api/search/[query]",filename:"route",bundlePath:"app/api/search/[query]/route"},resolvedPagePath:"C:\\Users\\ASharma\\Documents\\New folder\\borcella_admin-master\\app\\api\\search\\[query]\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:g,staticGenerationAsyncStorage:y,serverHooks:m,headerHooks:h,staticGenerationBailout:S}=d,q="/api/search/[query]/route";function v(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:y})}},4385:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(11185),o=r.n(a);let n=new(o()).Schema({title:String,description:String,media:[String],category:String,collections:[{type:o().Schema.Types.ObjectId,ref:"Collection"}],tags:[String],sizes:[String],colors:[String],price:{type:o().Schema.Types.Decimal128,get:e=>parseFloat(e.toString())},expense:{type:o().Schema.Types.Decimal128,get:e=>parseFloat(e.toString())},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}},{toJSON:{getters:!0}}),s=o().models.Product||o().model("Product",n)},18237:(e,t,r)=>{r.d(t,{P:()=>s});var a=r(11185),o=r.n(a);let n=!1,s=async()=>{if(o().set("strictQuery",!0),n){console.log("MongoDB is already connected");return}try{await o().connect(process.env.MONGODB_URL||"",{dbName:"Borcelle_Admin"}),n=!0,console.log("MongoDB is connected")}catch(e){console.log(e)}}},95419:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,70],()=>r(62055));module.exports=a})();